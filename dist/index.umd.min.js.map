{"version":3,"file":"index.umd.min.js","sources":["../node_modules/es6-object-assign/index.js","../src/check-width.js","../node_modules/es6-object-assign/auto.js","../src/vue-input-autowidth.js","../src/index.js"],"sourcesContent":["/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n'use strict';\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n","import \"es6-object-assign/auto\";\n\nexport default function(el, binding) {\n  const mirror = document.querySelector(\n    `.vue-input-autowidth-mirror-${el.dataset.uuid}`\n  );\n  const defaults = { maxWidth: \"none\", minWidth: \"none\", comfortZone: 0 };\n  const options = Object.assign({}, defaults, binding.value);\n\n  el.style.maxWidth = options.maxWidth;\n  el.style.minWidth = options.minWidth;\n\n  let val = el.value;\n\n  if (!val) {\n    val = el.placeholder || \"\";\n  }\n\n  while (mirror.childNodes.length) {\n    mirror.removeChild(mirror.childNodes[0]);\n  }\n\n  mirror.appendChild(document.createTextNode(val));\n\n  let newWidth = mirror.scrollWidth + options.comfortZone + 2;\n\n  if (newWidth != el.scrollWidth) {\n    el.style.width = `${newWidth}px`;\n  }\n}\n","'use strict';\n\nrequire('./index').polyfill();\n","import \"es6-object-assign/auto\";\nimport checkWidth from \"./check-width\";\n\nexport default {\n  beforeMount: function(el) {\n    if (el.tagName.toLocaleUpperCase() !== \"INPUT\") {\n      throw new Error(\"v-input-autowidth can only be used on input elements.\");\n    }\n    el.dataset.uuid = Math.random()\n      .toString(36)\n      .slice(-5);\n    el.style.boxSizing = \"content-box\";\n  },\n  mounted: function(el, binding, vnode) {\n    const hasVModel = vnode.data.directives.some(\n      directive => directive.name === \"model\"\n    );\n    const styles = window.getComputedStyle(el);\n    el.mirror = document.createElement(\"div\");\n\n    Object.assign(el.mirror.style, {\n      position: \"absolute\",\n      top: \"0\",\n      left: \"0\",\n      visibility: \"hidden\",\n      height: \"0\",\n      overflow: \"hidden\",\n      whiteSpace: \"pre\",\n      fontSize: styles.fontSize,\n      fontFamily: styles.fontFamily,\n      fontWeight: styles.fontWeight,\n      fontStyle: styles.fontStyle,\n      letterSpacing: styles.letterSpacing,\n      textTransform: styles.textTransform\n    });\n\n    el.mirror.classList.add(`vue-input-autowidth-mirror-${el.dataset.uuid}`);\n    el.mirror.setAttribute(\"aria-hidden\", \"true\");\n\n    document.body.appendChild(el.mirror);\n\n    checkWidth(el, binding);\n    console.log('hasVModel', hasVModel)\n    if (!hasVModel) {\n      el.addEventListener(\"input\", checkWidth.bind(null, el, binding));\n    }\n  },\n  updated: function(el, binding) {\n    checkWidth(el, binding);\n  },\n  unmounted: function(el) {\n    document.body.removeChild(el.mirror);\n    el.removeEventListener(\"input\", checkWidth.bind(null, el, binding));\n  }\n};\n","import directive from \"./vue-input-autowidth\";\n\nconst install = function(Vue) {\n  Vue.directive(\"autowidth\", directive);\n};\n\nif (typeof window !== \"undefined\" && window.Vue) {\n  window.Vue.use(install);\n}\n\ndirective.install = install;\n\nexport default directive;\n"],"names":["assign","target","firstSource","TypeError","to","Object","i","arguments","length","nextSource","keysArray","keys","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","undefined","enumerable","el","binding","mirror","document","querySelector","dataset","uuid","options","maxWidth","minWidth","comfortZone","value","style","val","placeholder","childNodes","removeChild","appendChild","createTextNode","newWidth","scrollWidth","width","polyfill","defineProperty","configurable","writable","beforeMount","tagName","toLocaleUpperCase","Error","Math","random","toString","slice","boxSizing","mounted","vnode","hasVModel","data","directives","some","directive","name","styles","window","getComputedStyle","createElement","position","top","left","visibility","height","overflow","whiteSpace","fontSize","fontFamily","fontWeight","fontStyle","letterSpacing","textTransform","classList","add","setAttribute","body","checkWidth","console","log","addEventListener","bind","updated","unmounted","removeEventListener","install","Vue","use"],"mappings":"wMAOA,SAASA,EAAOC,EAAQC,GACtB,GAAID,MAAAA,EACF,MAAM,IAAIE,UAAU,2CAItB,IADA,IAAIC,EAAKC,OAAOJ,GACPK,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAaF,UAAUD,GAC3B,GAAIG,MAAAA,EAKJ,IADA,IAAIC,EAAYL,OAAOM,KAAKN,OAAOI,IAC1BG,EAAY,EAAGC,EAAMH,EAAUF,OAAQI,EAAYC,EAAKD,IAAa,CAC5E,IAAIE,EAAUJ,EAAUE,GACpBG,EAAOV,OAAOW,yBAAyBP,EAAYK,QAC1CG,IAATF,GAAsBA,EAAKG,aAC7Bd,EAAGU,GAAWL,EAAWK,KAI/B,OAAOV,EC1BM,WAASe,EAAIC,OACpBC,EAASC,SAASC,oDACSJ,EAAGK,QAAQC,OAGtCC,EAAUrB,OAAOL,OAAO,GADb,CAAE2B,SAAU,OAAQC,SAAU,OAAQC,YAAa,GACxBT,EAAQU,OAEpDX,EAAGY,MAAMJ,SAAWD,EAAQC,SAC5BR,EAAGY,MAAMH,SAAWF,EAAQE,aAExBI,EAAMb,EAAGW,UAERE,IACHA,EAAMb,EAAGc,aAAe,IAGnBZ,EAAOa,WAAW1B,QACvBa,EAAOc,YAAYd,EAAOa,WAAW,IAGvCb,EAAOe,YAAYd,SAASe,eAAeL,QAEvCM,EAAWjB,EAAOkB,YAAcb,EAAQG,YAAc,EAEtDS,GAAYnB,EAAGoB,cACjBpB,EAAGY,MAAMS,gBAAWF,UDeP,CACftC,OAAQA,EACRyC,SAbF,WACOpC,OAAOL,QACVK,OAAOqC,eAAerC,OAAQ,SAAU,CACtCa,YAAY,EACZyB,cAAc,EACdC,UAAU,EACVd,MAAO9B,OEnCMyC,iBCCJ,CACbI,YAAa,SAAS1B,MACmB,UAAnCA,EAAG2B,QAAQC,0BACP,IAAIC,MAAM,yDAElB7B,EAAGK,QAAQC,KAAOwB,KAAKC,SACpBC,SAAS,IACTC,OAAO,GACVjC,EAAGY,MAAMsB,UAAY,eAEvBC,QAAS,SAASnC,EAAIC,EAASmC,OACvBC,EAAYD,EAAME,KAAKC,WAAWC,MACtC,SAAAC,SAAgC,UAAnBA,EAAUC,QAEnBC,EAASC,OAAOC,iBAAiB7C,GACvCA,EAAGE,OAASC,SAAS2C,cAAc,OAEnC5D,OAAOL,OAAOmB,EAAGE,OAAOU,MAAO,CAC7BmC,SAAU,WACVC,IAAK,IACLC,KAAM,IACNC,WAAY,SACZC,OAAQ,IACRC,SAAU,SACVC,WAAY,MACZC,SAAUX,EAAOW,SACjBC,WAAYZ,EAAOY,WACnBC,WAAYb,EAAOa,WACnBC,UAAWd,EAAOc,UAClBC,cAAef,EAAOe,cACtBC,cAAehB,EAAOgB,gBAGxB3D,EAAGE,OAAO0D,UAAUC,yCAAkC7D,EAAGK,QAAQC,OACjEN,EAAGE,OAAO4D,aAAa,cAAe,QAEtC3D,SAAS4D,KAAK9C,YAAYjB,EAAGE,QAE7B8D,EAAWhE,EAAIC,GACfgE,QAAQC,IAAI,YAAa7B,GACpBA,GACHrC,EAAGmE,iBAAiB,QAASH,EAAWI,KAAK,KAAMpE,EAAIC,KAG3DoE,QAAS,SAASrE,EAAIC,GACpB+D,EAAWhE,EAAIC,IAEjBqE,UAAW,SAAStE,GAClBG,SAAS4D,KAAK/C,YAAYhB,EAAGE,QAC7BF,EAAGuE,oBAAoB,QAASP,EAAWI,KAAK,KAAMpE,EAAIC,YClDxDuE,EAAU,SAASC,GACvBA,EAAIhC,UAAU,YAAaA,UAGP,oBAAXG,QAA0BA,OAAO6B,KAC1C7B,OAAO6B,IAAIC,IAAIF,GAGjB/B,EAAU+B,QAAUA"}